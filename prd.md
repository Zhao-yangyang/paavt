# 产品需求文档 (PRD): 成绩分析与可视化工具 (纯前端版)

**1. 引言**

*   **1.1. 目标:** 开发一个轻量级的、纯客户端运行的成绩分析与可视化工具。用户可以直接在浏览器中加载成绩数据（CSV格式），进行基本的统计分析，并通过图表直观地了解成绩分布和表现。所有功能通过单一 HTML 文件实现，无需后端服务或数据库。
*   **1.2. 用户画像:** 需要快速分析班级或个人成绩的教师、学生或教育管理人员。他们可能不具备专业的编程或数据分析背景，需要一个简单易用的工具。
*   **1.3. 范围:** 本文档定义了该工具 v1.0 版本的功能、设计和技术约束。

**2. 功能需求**

*   **2.1. 数据导入 (FR-01)**
    *   **2.1.1.** 用户应能通过文件选择器上传本地的 CSV 文件。
    *   **2.1.2.** 系统应能解析 CSV 文件内容。假定 CSV 文件包含表头，并且至少包含"姓名"（或"学号"）以及一个或多个"科目名称"列，对应列为学生的得分。
    *   **2.1.3.** 文件解析后，应在界面上提供数据预览区域，显示部分或全部加载的数据，供用户确认。
    *   **2.1.4.** 应提示用户预期的 CSV 文件格式（例如，示例表头）。
*   **2.2. 数据分析 (FR-02)**
    *   **2.2.1. 描述性统计:**
        *   计算并显示每个科目的平均分、最高分、最低分、中位数、及格人数、及格率（及格线可由用户输入，默认为 60）、优秀人数、优秀率（优秀线可由用户输入，默认为 85 或 90）。
        *   计算并显示每个学生的总分和平均分。
    *   **2.2.2. 排名计算:**
        *   计算并显示每个学生基于总分的排名。
        *   （可选）计算并显示每个学生在单科上的排名。
    *   **2.2.3. 分数段统计:**
        *   统计并显示每个科目在不同分数段（例如：90-100, 80-89, 70-79, 60-69, <60）的人数和百分比。分数段可预设，或允许用户自定义。
*   **2.3. 数据可视化 (FR-03)**
    *   **2.3.1. 整体分数分布:**
        *   提供一个下拉菜单让用户选择"总分"或某个具体"科目"。
        *   使用直方图展示所选分数项的分数分布情况。X 轴为分数，Y 轴为学生人数。
    *   **2.3.2. 成绩等级分布:**
        *   提供一个下拉菜单让用户选择"总分"或某个具体"科目"。
        *   使用饼图或条形图展示所选分数项的成绩等级（如：优秀、良好、中等、及格、不及格，等级划分标准基于用户输入的优秀线和及格线）的占比。
    *   **2.3.3. 科目比较 (可选):**
        *   使用条形图展示所有科目的平均分对比。
*   **2.4. 结果导出 (FR-04)**
    *   **2.4.1.** 用户应能将包含统计分析结果（平均分、排名、分数段等）的表格数据导出为 CSV 文件。
    *   **2.4.2.** 用户应能将生成的可视化图表（直方图、饼图等）保存为 PNG 或 JPG 图片文件。
*   **2.5. 用户界面与交互 (FR-05)**
    *   **2.5.1.** 界面应简洁明了，分为几个主要区域：数据上传区、数据预览区、分析设置区（如设置及格/优秀线）、分析结果展示区、可视化图表区。
    *   **2.5.2.** 上传文件后，自动触发数据解析和基础分析。
    *   **2.5.3.** 分析参数（如及格线）的修改应能实时更新分析结果和图表。
    *   **2.5.4.** 图表应具有基本的交互性，例如鼠标悬停时显示具体数值。
    *   **2.5.5.** 提供清晰的按钮用于"上传文件"、"导出分析结果"、"导出图表"。

**3. 非功能性需求**

*   **3.1. 性能 (NFR-01):** 对于中等规模的数据集（例如，几百名学生，十几个科目），分析和可视化操作应在几秒钟内完成。
*   **3.2. 易用性 (NFR-02):** 无需特殊说明，用户应能理解如何上传数据和查看结果。界面元素和术语应清晰易懂。
*   **3.3. 兼容性 (NFR-03):** 应能在主流现代浏览器（Chrome, Firefox, Edge, Safari）的最新版本上正常运行。
*   **3.4. 代码组织 (NFR-04):** 所有 HTML, CSS, JavaScript 代码原则上放在一个 `.html` 文件中。CSS 和 JavaScript 代码应分别包含在 `<style>` 和 `<script>` 标签内。代码应有适当的结构和注释，便于维护。

**4. 技术约束**

*   **4.1. 技术栈:** 仅使用 HTML, CSS, JavaScript。
*   **4.2. 库依赖:**
    *   必须包含一个用于解析 CSV 的 JavaScript 库（例如 PapaParse.js）。
    *   必须包含一个用于生成图表的 JavaScript 库（例如 Chart.js 或 Plotly.js - 需要考虑库的大小和易用性）。
    *   这些库的代码也需要整合进最终的 HTML 文件中（可以直接嵌入或通过 CDN 链接，但为了完全离线，嵌入更佳）。
*   **4.3. 运行环境:** 纯客户端浏览器环境，无服务器端依赖。

**5. 未来考虑 (可选)**

*   支持更多文件格式（如 Excel）。
*   更复杂的分析功能（如相关性分析、聚类分析）。
*   个性化报告生成。
*   数据持久化（使用 LocalStorage）。 